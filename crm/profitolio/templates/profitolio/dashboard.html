{% extends 'profitolio/base.html' %}

{% block content %}

    <h1>Welcome to the dashboard page, {{user}}!</h1>
    <hr>
    
    <a class = "btn btn-outline-primary btn-sm" href = "{% url 'create-record' %}">
        Create a new record
    </a>
    <hr>



    <table class = "table table-light table-hover">
        <thead class = "table-dark">
            <tr>
                <th scope = "col"> ID </th>
                <th scope = "col"> Company Name </th>
                <th scope = "col"> Stock Symbol </th>
                <th scope = "col"> Buy Price </th>
                <th scope = "col"> Quantity </th>
                <th scope = "col"> Sell Price </th>
                <th scope = "col"> Returns </th>
                <th scope = "col"> Buy Date </th>
                <th scope = "col"> Sell Date </th>
                <th scope = "col"> View </th>
            </tr>
        
        <tbody>
        {% if records %}
            {% for record in records %}
                <tr>
                    <td> {{record.id}}</td>
                    <td> {{record.company_name}}</td>
                    <td> {{record.stock_symbol}}</td>
                    <td> {{record.buy_price}}</td>
                    <td> {{record.quantity}}</td>
                    <td> {{record.sell_price}}</td>
                    <td> {{record.returns|floatformat:2}}</td>
                    <td> {{record.buy_date}}</td>
                    <td> {{record.sell_date}}</td>
                    <td>   <a class="btn btn-success btn-sm" href="{% url 'record' record.id %}"> View </a> </td>
                </tr>
            {% endfor %}
        {% endif %}
        </tbody>
        
        </thead>
    </table>


{% endblock %}
